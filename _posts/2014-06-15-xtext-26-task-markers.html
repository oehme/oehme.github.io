---
layout: post
title: ! 'Xtext 2.6: Task Markers'
date: '2014-06-15T18:55:00.000+02:00'
author: Stefan Oehme
tags: 
modified_time: '2014-06-15T18:55:54.372+02:00'
blogger_id: tag:blogger.com,1999:blog-7973028861743150658.post-3757966722176050256
blogger_orig_url: http://mnmlst-dvlpr.blogspot.com/2014/06/xtext-26-task-markers.html
---

With the release of Xtext 2.6 we added a cool new feature that will just work out of the box for most languages out there. By default you will get markers for TODO, FIXME and XXX in single and multiline comments. These tags will also be highlighted and tasks will appear in the tasks view, just as you are used to from JDT.<div dir="ltr" style="line-height: 1.15; margin-bottom: 0pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><span style="font-family: inherit;"><br /></span></span></div><div class="separator" style="clear: both; text-align: center;"><a href="https://www.eclipse.org/xtend/images/releasenotes/2_6_0_task_markers.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><span style="font-family: inherit;"><img border="0" src="http://www.eclipse.org/Xtext/images/releasenotes/2_6_0_task_markers.png" height="146" width="320" /></span></a></div><div dir="ltr" style="line-height: 1.15; margin-bottom: 0pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><span style="font-family: inherit;"><br /></span></span></div><div dir="ltr" style="line-height: 1.15; margin-bottom: 0pt; margin-top: 0pt;"><span style="font-family: inherit;"><br /></span></div><br /><br />All the tasks will appear under the type Xtext task. You can add a preference page via the TaskTagPreferencePageFragment. <br /><br />You can also customize how tasks are found by overwriting the Guice bindings for these interfaces:<br /><h4><br /></h4><h4>ITaskFinder</h4><div><br /></div>Given a resource, finds the tasks. The default implementation will look at all leaf nodes and if they are comments (according to IHiddenTokenHelper), will pass them to the ITaskParser. It uses an ITaskTagProvider to tell which task tags to search for.<br /><h4><br /></h4><h4>ITaskParser</h4><div><br /></div>Given a String and the defined task tags, finds the tasks. The default implementation matches each line of the String against the given tags. The task description is the text following the tag until the end of the line.<br /><h4><br /></h4><h4>ITaskTagProvider</h4><div><br /></div>Given a resource, tells which task tags should be searched. The default implementation uses a fixed list (TODO, FIXME, XXX). There is also a preference based implementation, which is activated by the TaskTagPreferencePageFragment. Writing your own should be as straightforward as writing a list in most cases. For Xtend we reuse the task tags defined in the JDT preference page.<br /><h3><br /></h3><h3>Troubleshooting</h3><h4><br /></h4><h4>Tasks are found, but not colored</h4><div><br /></div>You have bound the ISemanticHighlightingCalculator interface, which used to have no default implementation. The task highlighting is done by the new DefaultSemanticHighlightingCalculator. I strongly encourage you to inherit from that, as it also comes with a lot of convenience methods for highlighting in general.<br /><br /><h4>I want tasks to have a different marker type</h4><div><br /></div>We have the TaskMarkerTypeProvider for this. The default implementation will return Xtext task. There is also the LanguageAwareTaskMarkerTypeProvider, which will give markers a type named after your language. But you can also write and bind your own, e.g. to give different markers different images (like a wizard hat for MAGIC tags ;)