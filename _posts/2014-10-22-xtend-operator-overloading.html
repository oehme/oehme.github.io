---
layout: post
title: Xtend - Operator Overloading
date: '2014-10-22T07:25:00.000+02:00'
author: Stefan Oehme
tags:
- xtend series
modified_time: '2014-10-22T07:25:21.184+02:00'
thumbnail: http://2.bp.blogspot.com/-swAV6GEZd8A/VEJlz2onlLI/AAAAAAAAO88/84O6E87Gloo/s72-c/Complex1.PNG
blogger_id: tag:blogger.com,1999:blog-7973028861743150658.post-5069856536657349222
blogger_orig_url: http://mnmlst-dvlpr.blogspot.com/2014/10/xtend-operator-overloading.html
---

Xtend has a nice <a href="https://www.eclipse.org/xtend/documentation.html#operators">list of operators</a> you can use out of the box. But you can also overload them for your own types and even for types that others have written. Let's just look at a typical numeric type, Complex numbers:<br /><br /><div class="separator" style="clear: both; text-align: left;"><a href="http://2.bp.blogspot.com/-swAV6GEZd8A/VEJlz2onlLI/AAAAAAAAO88/84O6E87Gloo/s1600/Complex1.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-swAV6GEZd8A/VEJlz2onlLI/AAAAAAAAO88/84O6E87Gloo/s1600/Complex1.PNG" height="275" width="400" /></a></div><br />As you can see, overloading an operator is just done by writing a method whose name matches the operator and its signature. In our example I have overloaded the binary plus and minus operators as well as the unary minus operator. I left out the constructor, <i>toString</i>, <i>equals</i>, <i>hashCode </i>etc. In an upcoming post you will see that Xtend can automatically generate all of these for you.<br /><br />Now let's see our new number type in action:<br /><br /><div class="separator" style="clear: both; text-align: left;"><a href="http://4.bp.blogspot.com/-GXAJBCafCp0/VEJmcw2QuPI/AAAAAAAAO9E/d8yNQYB_FQo/s1600/Example1.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-GXAJBCafCp0/VEJmcw2QuPI/AAAAAAAAO9E/d8yNQYB_FQo/s1600/Example1.PNG" height="148" width="320" /></a></div><br />The operators work just like you would expect, but the last line is something especially cool: By defining <i>+</i>, you get <i>+=</i> for free! But all those constructor calls don't look like we are used to in mathematics. We want to write <b>1&nbsp;+ 2i</b>. To do this, we add the following static methods to our Complex class<br /><br /><div class="separator" style="clear: both; text-align: left;"><a href="http://4.bp.blogspot.com/-rpIbh_Wzf9M/VEJnIi72xBI/AAAAAAAAO9M/cP5RavBf81M/s1600/helpers.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-rpIbh_Wzf9M/VEJnIi72xBI/AAAAAAAAO9M/cP5RavBf81M/s1600/helpers.PNG" height="190" width="320" /></a></div><br />These methods actually extend the double type so it can also be added to and multiplied with Complex numbers. You can add operators to any existing type like this! Now we just need to import them as <span style="color: purple;"><b>static extension</b></span>s in our example and we get a much cleaner syntax.<br /><br /><div class="separator" style="clear: both; text-align: left;"><a href="http://1.bp.blogspot.com/-zk-5uVOejeY/VEJnaLP4aFI/AAAAAAAAO9U/43DF2dQ7jkI/s1600/Example2.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-zk-5uVOejeY/VEJnaLP4aFI/AAAAAAAAO9U/43DF2dQ7jkI/s1600/Example2.PNG" height="185" width="320" /></a></div><br />There's one final tip I want to give you about the compound (+=, -=, *=, /=) operators. In the case of mutable types it makes sense to overload them with a different meaning than&nbsp;+, -, *, /<br /><br />For example, the Xtend library defines the +-operator for <i>List</i> to mean "create a concatenated view of both Lists, without changing them".<br /><br /><div class="separator" style="clear: both; text-align: left;"><a href="http://4.bp.blogspot.com/-bV-Fi4oxKLo/VEJopZV6EXI/AAAAAAAAO9g/hZ421m9ZSOQ/s1600/Concat.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-bV-Fi4oxKLo/VEJopZV6EXI/AAAAAAAAO9g/hZ421m9ZSOQ/s1600/Concat.PNG" height="91" width="200" /></a></div><br />The +=-operator on the other hand means "add all elements of the second list to the first one", which is more efficient if mutating the first list is okay.<br /><br /><div class="separator" style="clear: both; text-align: left;"><a href="http://3.bp.blogspot.com/-OGVZQUgiMTE/VEJo1SeJbOI/AAAAAAAAO9o/C9WyjzWIBb8/s1600/Append.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-OGVZQUgiMTE/VEJo1SeJbOI/AAAAAAAAO9o/C9WyjzWIBb8/s1600/Append.PNG" height="104" width="320" /></a></div><br />